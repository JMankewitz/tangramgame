---
title: "Finding Common Ground: Referential communication in parent-child pairs"
bibliography: library.bib
csl: apa6.csl
document-params: "10pt, letterpaper"

author-information: > 
    \author{{\large \bf Morton Ann Gernsbacher (MAG@Macc.Wisc.Edu)} \\ Department of Psychology, 1202 W. Johnson Street \\ Madison, WI 53706 USA
    \AND {\large \bf Sharon J.~Derry (SDJ@Macc.Wisc.Edu)} \\ Department of Educational Psychology, 1025 W. Johnson Street \\ Madison, WI 53706 USA}

abstract: >
    Referential communication is ubiquitous in human interaction. Past work has shown that adults readily form referential pacts, or temporary agreements on referent names, with each other in conversation [e.g. @clark1986]. Young children do so less reliably with peers, but some evidence suggests that explicit feedback from adults may be helpful [@matthews2007]. How might children learn from the adults they interact with in daily life? The present study seeks to understand the role that parents play in scaffolding children's referential pact formation in communicative settings. In our experiment, we replicate Clark and Wilkes-Gibbs's -@clark1986 findings with adult-adult and parent-child participant pairs using a modified matcher-director task. Our results show that parents and children (ages 4, 6, 8) can converge on more efficient reference over the course of the task. Parents of younger children, but not younger children themselves, produce longer referential expressions during the game, suggesting that parents sensitively adapt their language to their children's developmental level in referential communication settings.
    
keywords: >
    referential pacts; parent-child communication
    
output: cogsci2016::cogsci_paper
#final-submission: \cogscifinalcopy
---

```{r global_options, include=FALSE}
knitr::opts_chunk$set(fig.width=3, fig.height=3, fig.crop = F, 
                      fig.pos = "tb", fig.path='figs/',
                      echo=F, warning=F, cache=F, 
                      message=F, sanitize = T)
# Note: to build, 
```

```{r, libraries}
library(broom.mixed)
library(tidyboot)
library(png)
library(grid)
library(xtable)
library(ggthemes)
library(lme4)
library(lmerTest)
library(here)
library(tm)
library(tidytext)
library(tidyverse)

theme_set(theme_few(base_size = 12))
```

```{r load-data}
kuperman_aoas <- read_csv(here("corpus_data/kuperman_aoas.csv"))
combined_data <- read_csv(here("deidentified/combined.csv")) 
exchanges_data <- read_csv(here("deidentified/exchanges.csv")) 
```


\todo[inline]{OUTLINE: 1. The basis of successful communication is common ground. Adults are good at forming common ground and referential pacts with conversational partners; young kids are not that great at it. 2. We know from various lines of work that parents adapt their language use sensitively to their children's age, knowledge, etc. We think this also happens in referential communication. 3. Studies show that children have greater referential success with adult experimenters (e.g. Glucksberg \& Krauss) and after training (e.g. Matthews et al.). We want to look at the role of adult input in a more naturalistic way. Hence, parent-child ref. comm study. 4. We expect parent language to change with age of child. Parents may adapt to young children by taking up children's referent names; OR parents may adapt by providing more scaffolding / information, etc.}

As social beings, humans communicate with each other constantly. The basis of successful communication is mutual understanding, or common ground. One way to establish common ground is through the mutual construction of referential pacts, or conceptual pacts, which are temporary agreements on referent names between interlocutors. These pacts are constructed collaboratively during conversation, are partner-specific, and are dynamic and malleable [@brennan1996; @clark1989; @ibarra2016]. Pact formation occurs naturally in conversation, and facilitates cooperation between partners [@fusaroli2012]. The phenomenon of pact formation in adult conversation has been widely studied using matcher-director paradigms, where interlocutors refer to novel objects to one another [e.g. @clark1986]. Researchers have found that conversational partners use shorter, more efficient references over time, and converge upon referent names for each novel object. Importantly, these referent names differ across conversational pairs, but can also change within conversational partners based on shifting goals or informational needs [@clark1986; @ibarra2016]. Thus, common ground is more than common sense—it is mutual knowledge that is built between partners within a conversation to achieve communicative success.

Can children form referential pacts with one another? While adults readily form referential pacts with one another, matcher-director studies with children have yielded mixed results [@branigan2016; @glucksberg1967]. Some studies have shown that children are able to form referential pacts with peers by the age of 6, and by age 10, are sensitive to multiple partners’ knowledge states [@matthews2010; @branigan2016; @koymen2014]. However, other studies have shown that 5-year-olds are unable to form common ground with peers in a matcher-director task using novel objects, though they can complete the same task using familiar pictures [@glucksberg1967]. Taken together, these studies suggest that children’s ability to reliably form conceptual pacts with one another emerge in early childhood, and continue to develop through middle childhood.

What are some reasons young children fail to form referential pacts with others? One possible reason is that young children cannot take into account a partner’s perspective, and generates expressions that are only informative for themselves. Indeed, there is evidence showing that young children who fail at referential tasks with peers can succeed on the same task when experimenters use referent names that were generated by children themselves [@glucksberg1966]. An opposing account of children's failure to form referential pacts is that children are not sensitive to message informativity, and thus cannot produce appropriately informative references. This account is support by studies which have found that children are unable to accurately judge the informativeness of messages, and that those who are poor communicators could not identify the correct referent from their own expressions after a two-week delay [@robinson1977; @Asher1976ChildrensFailure].

Thus far, research on referential pact formation in children have largely focused on peer interactions, but much of children’s daily interactions involve other adults. These more linguistically-advanced conversational partners may play an important role in children’s communicative development. How might conversing with more linguistically-advanced interlocuters influence children’s communicative development? There is some evidence that adults can scaffold children’s referential communication by using child-generated references, or through providing explicit feedback and training for generating informative expressions [@glucksberg1967; @matthews2007]. These findings suggest that children can succeed in referential tasks when communicating with adults, even if they would fail the same task with peers. However, these studies were conducted in highly-constrained settings, where experimenters followed scripts for what to say to children.

To understand the role that adults play in scaffolding children’s referential communication in a more naturalistic setting, this study focuses on parent-child interaction. Little work has been done on referential communication between parents and children, but the importance of studying these dyadic interactions have long been recognized. Linguistic input from caregivers are tuned to children’s developmental level and knowledge [@leung2019; @masur1997], and these sensitive adaptations shape language development in children [@weisleder2013; @snow1972]. Thus, the present study aims to explore how parents and children interact to form referential pacts in conversation. Based on prior developmental research showing that sensitivity to conceptual pacts emerge in early childhood, and referential abilities gradually develop through middle childhood [e.g. @graham2014; @koymen2014], we opted to study 4-8 year-old children. The aim of the present study is to understand how parents may scaffold children’s communicative development, by comparing parent-child referential communication across ages. 

Based on previous work on adult-child referential communication, there are two possible accounts of parent adaptation in referential pact formation. 1) Parents of younger children would take up more of their children's referent names in order to boost referential success, in line with @glucksberg1966's finding that children had high receptive referential success when experimenters used names generated by the child. 2) Parents of younger children provide more higher-level feedback and scaffolding throughout the game, such as through rephrasing children's referential expressions or asking for clarifying information, in line with @matthews2010's training study.


\todo[inline]{TODO: In introduction of classic explanations for failures in kid-kid dialogue, briefly mention Asher \& Oden, 1976? (which, contrary to Glucksberg, showed kids *couldn't* make good messages for *themselves* in the future, arguing it's probably not just egocentricity), the Beal \& Flavell 1982, or Robinson \& Robinson, 1977/1982 (which argued kids are bad at realizing messages can be ambiguous, and therefore cannot judge what will be an appropriately informative messages), Roberts \& Patterson (1983) which correlated quality of referring expressions with perspective-taking skills...}
\todo[inline]{TODO: mention Deutsch \& Pechmann, 1982? (which showed young kids *can* communicate with each other with a little initial prompting by adult experimenter, suggesting that adults may 'seed' conventions)}
\todo[inline]{TODO: mention Garrod \& Clark, 1993 or Anderson, Clark \& Mullin (1994). (which suggest the problem lies not in message formulation but in their failure to manage interactional stuff like giving feedback to their partner when they don't understand and explicitly asking for clarification.)}

# Experiment: Referential Communication in Adult-Adult Pairs and Parent-Child Pairs

## Methods

```{r 2-col-image, fig.env = "figure", fig.pos = "t", fig.width=3.5, fig.height=2, fig.align = "center", set.cap.width=T, num.cols.cap=2, fig.cap = "Example of iPad screens for the director (left) and matcher (right) during the game."}
img <- png::readPNG("figs/display.png")
grid::grid.raster(img)
```

### Participants

Adult participants were recruited from the University of Chicago's online subject pool, to achieve a planned sample of 20 pairs. At the time of analysis, data from 17 dyads were included.

Children (ages 4, 6, and 8) and their parents were recruited from a database of families in the local community, to achieve a planned sample of 60 parent-child pairs. A total of 75 children and their parents participated, but data from 12 pairs were dropped due to experimental error or failure to complete the study. The remaining sample of 63 parent-child dyads were included in analysis.

### Stimuli 

Twelve solid black images of tangrams, and colored versions of the same tangrams, were selected from a database of Public Domain images. The tangram images were normed on Amazon Mechanical Turk (mTurk) for pairwise similarity. Two images were excluded from the set based on similarity judgments, forming the final set of 10 images used for the study.

### Procedure

Each dyad played a cooperative game with iPads. Pairs sat at a table with a divider in the middle, which prevented participants from looking at each other’s iPad screens during the game. The game was a simplified version of the matcher-director task used in @clark1986. Participants were told that they would take turns being the director and matcher. They were told that the director should describe the image inside the blue square, and the matcher should select an image based on the director’s description. After instruction, the practice and experimental trials began. On each experimental trial, two solid black tangrams appeared on the iPad screens. The same images appeared on each screen, but their positions were randomized. On the director’s screen, one image appeared inside a blue square, while the images on the matcher’s screen simply appeared on a white background (Figure 1). Upon selection of an image on the matcher’s screen, the selected image became colorful, and a sound is played (independent of accuracy). After each trial, the roles were switched. Practice trials followed the same structure as experimental trials, but images of fruits and vegetables were used during this round. 

### Design

There were 4 blocks of 10 trials. Each tangram appeared as the target once during each block, such that each tangram was the target four times during the game. Trials within blocks were randomized. The 10 tangrams were shuffled and randomly assigned to either participants at the beginning of the game. The assignment dictates who would be the director for a particular target in Round 1. Thus, each participant played the role of director two times for each of the 10 tangrams. In each round, the targets appeared with different foils. To ensure that the game would not be too difficult for young children, trials were constructed such that the most similar tangrams (based on mTurk worker judgments) did not appear together.

### Pre-processing

All sessions were videotaped, and the videos were transcribed using Datavyu--an Open-Source coding software [@datavyu-team2014]. Research assistants used videos not included in analysis (e.g. when participants did not complete the session) for training and practice. Each video was transcribed and checked by two different research assistants. To ensure anonymity of participants, names were not transcribed when used. Each utterance was coded manually as either being part of a trial, or being unrelated to the game. The exported files were then processed in R to remove unrelated utterances (e.g. parents requesting children to sit down, talking about where they plan to go after the study session, etc.) before analysis.

## Results

### Performance accuracy

```{r cache=T}
d.accuracy.raw <- combined_data %>%
  mutate(age = as.character(age),
         age = if_else(is.na(age), 'adult', age)) %>%
  mutate(person = ifelse(person %in% c('left', 'right', 'parent'), 
                         'adult', person)) %>%
  group_by(subid, trial, age, target, rep_num) %>%
  summarize(correct = mean(correct)) %>% # make sure each trial is only counted once
  ungroup()

# Bootstrap error bars and render plot
plt.results.acc <- d.accuracy.raw %>%
  group_by(age, rep_num) %>%
  tidyboot_mean(correct) %>%
  ggplot(aes(x = rep_num, y = empirical_stat * 100,  group = age, color = age)) +
    geom_line() +
    geom_errorbar(aes(ymin = ci_lower * 100, ymax = ci_upper * 100),
                  width = 0.05) +
    ylab("% accuracy") +
    xlab("repetition #") +
    ylim(78, 100) +
    theme(aspect.ratio = 1) +
    scale_color_colorblind() +
    labs(tag = 'A')


lmer.accuracy <- d.accuracy.raw %>%
  filter(age != "adult") %>%
  mutate(age = as.numeric(age)) %>%
  glmer(correct ~ age + rep_num + (rep_num | subid) + (1 | target), 
                            family = 'binomial', data = .) %>%
  tidy()

age_effect_acc = lmer.accuracy %>% filter(term == 'age')
rep_effect_acc = lmer.accuracy %>% filter(term == 'rep_num')
```

Were children able to succeed at the reference game when collaborating with their parents? 
We begin by examining accuracy across age groups.
While accuracy was initially well above chance at all age groups, we found a significant main effect of age ($b$ = `r round(age_effect_acc$estimate, 2)`, $t$ = `r round(age_effect_acc$statistic, 2)`; $p = 0.001$).
Pairs with 4-year-olds performed significantly more poorly than pairs with older children.
Critically, however, accuracy improved significantly over the four repetition blocks for all groups ($b$ = `r round(rep_effect_acc$estimate, 2)`, $t$ = `r round(rep_effect_acc$statistic, 2)`, $p = 0.001$; see Fig. \ref{fig:acc_exchanges}A).
Such improvement for 4-year-olds contrasts with early results of communication between age-matched children [@glucksberg1966,@krauss1969], which found no improvement in accuracy with kingergardeners (age 5). 
\todo[inline]{TODO: describe mixed-effect structure. Note that dip in 8-year-olds likely driven by small group getting bored.}

### Interactive dialogue exchanges

```{r cache=T}
# TODO: double-check these are actually all swapping turns, not just the same person recorded as saying things on multiple lines in a row?

# count number of back-and-forth exchanges
d.exchanges.raw <- exchanges_data %>%
  mutate(age = as.character(age)) %>%
  mutate(age = if_else(is.na(age), 'adult', age)) %>%
  group_by(subid, trial, age, target, rep_num) %>%
  summarize(num_exchanges = n()) %>% 
  ungroup()

# Bootstrap error bars and render plot
plt.results.exchanges <- d.exchanges.raw %>%
  group_by(age, rep_num) %>%
  tidyboot_mean(num_exchanges) %>%
  ggplot(aes(x = rep_num, y = empirical_stat, color = age, group = age)) +
    geom_line() +
    geom_errorbar(aes(ymin = ci_lower, ymax = ci_upper), width = 0) +
    ylab("# exchanges per round") +
    xlab("repetition #") +
    theme(aspect.ratio = 1) +
    scale_color_colorblind() +
    labs(tag = 'B')

# Bootstrap error bars and plot
lmer.exchanges <- tidy(lmer(num_exchanges ~ age + rep_num + (1 + rep_num | subid) + (1 | target), 
                            data = d.exchanges.raw %>% filter(age != 'adult') %>% mutate(age = as.numeric(age))))
age_effect = lmer.exchanges %>% filter(term == 'age')
rep_effect = lmer.exchanges %>% filter(term == 'rep_num')
```


```{r acc_exchanges, cache=T, fig.env = "figure*", fig.pos = "t!", fig.width=7, fig.height=3, fig.align = "center", set.cap.width=T, num.cols.cap=2, fig.cap = "\\label{fig:acc_exchanges}\\todo[inline]{TODO:remap colors so adult is black and other lines are a gradient of blue, getting darker with older ages.}(A) Accuracy improves over time for all groups. (B) Number of dialogue exchanges is higher for younger children. Error bars are 95\\% CIs."}
gridExtra::grid.arrange(plt.results.acc, plt.results.exchanges, ncol = 2)
```

If the ability of children to successfully establish reference in both director and matcher roles depends on scaffolding provided by their parents, we would expect additional dialogue turns for younger children. 
We counted the total number of exchanges on each trial, defined as the number of distinct turns of continuous speech. 
Consistent with previous work in adults [@clark1986], we found a significant main effect of repetition ($b$ = `r round(rep_effect$estimate, 2)`, $t$ = `r round(rep_effect$statistic, 2)`; $p < 0.001$).
Fewer dialogue turns were required on later trials.
However, we also found a significant main effect of the child's age ($b$ = `r round(age_effect$estimate, 2)`, $t$ = `r round(age_effect$statistic, 2)`; $p < 0.001$).
Pairs with 4-year-old children took roughly one additional turn at each point in the experiment than pairs with older children, who more closely resembled adults (see Fig. \ref{fig:acc_exchanges}B).
This increased level of interactivity between parents and younger children provides an interesting contrast with previous studies showing decreased interactivity in pairs of younger children [@garrod1993, @anderson1994].
These lengthier exchanges may reflect efforts by parents to provide and elicit additional clarification or confirmation, or may simply reflect attentional difficulties. 
\todo[inline]{TODO: Can we follow-up by analyzing how many of these were questions vs. confirmation vs. purely keeping kids on task? Also: describe mixed-effect structure.}

### Reduction in length of referring expression

```{r development, cache=T, fig.env = "figure*", fig.pos = "h", fig.width=7, fig.height=6, fig.align = "center", set.cap.width=T, num.cols.cap=2, fig.cap = "\\label{fig:reduction}Total number of words in referring expressions produced by children and parents over the course of interaction."}
d.reduction.raw <- exchanges_data %>%
  mutate(age = ifelse(is.na(age), 'adult', age),
         num_words =  str_count(utterance, " ") +1) %>%
  filter(role == 'director') %>%
  mutate(person = ifelse(person %in% c('left', 'right', 'parent'), 'adult', person)) %>%
  group_by(age, rep_num, person, target, subid, trial) %>%
  summarize(numExchanges = n(),
            num_words = sum(num_words)) %>%
  mutate(normalized_num_words = num_words / numExchanges) %>%
  ungroup() 

d.reduction.raw %>% 
  group_by(age, rep_num, person) %>%
  tidyboot_mean(normalized_num_words) %>%
  ggplot(aes(x = rep_num, y = empirical_stat, group = person, color = person)) +
    geom_line() +
    facet_grid(~ age) + 
    geom_errorbar(aes(ymin = ci_lower, ymax = ci_upper), width = 0) +
    theme_few() +
    theme(aspect.ratio = 1) +
    ylab("# words per exchange") +
    xlab("rep #") +
    scale_color_colorblind()
  
lmer.reduction <- d.reduction.raw %>%
  filter(age != 'adult') %>% 
  mutate(age = as.numeric(age) - 6,   # center age & rep_num to make main effect more interpretable
         rep_num = as.numeric(rep_num) - 2.5,
         ordinal_rep = ifelse(rep_num == first(rep_num), 'first', 'second')) %>%
  lmer(log(num_words) ~ person * age * rep_num   + (1 + rep_num + person | subid) + (1 | target), 
       control=lmerControl('bobyqa'),
       contrasts = list(person = contr.sum),
       data = .) %>%
  tidy() %>%
  filter(effect == 'fixed') 
```

```{r}
word_exchange_cor = round(cor(d.reduction.raw$numExchanges, d.reduction.raw$num_words),2)
lmer.reduction.controlled <- d.reduction.raw %>% 
  filter(age != 'adult') %>% 
  group_by(subid, person) %>%
  mutate(age = as.numeric(age) - 6,  
         rep_num = as.numeric(rep_num) - 2.5,
         ordinal_rep = ifelse(rep_num == first(rep_num), 'first', 'second')) %>%  
  ungroup() %>%
  lmer(log(normalized_num_words) ~ person * age * rep_num + (1 + rep_num * person | subid) + (1 + rep_num | target), 
       data = .,
       contrasts = list(person = contr.sum),
       control=lmerControl('bobyqa')) %>%
  tidy() %>%
  filter(effect == 'fixed')
```

```{r}
age_effect_reduction = lmer.reduction %>% filter(term == 'age')
rep_effect_reduction = lmer.reduction %>% filter(term == 'rep_num')
person_effect_reduction = lmer.reduction %>% filter(term == 'person1')
person_age_interaction_reduction = lmer.reduction %>% filter(term == 'person1:age')
person_age_interaction_reduction_pvalue <- round(person_age_interaction_reduction$p.value, 3)

person_rep_interaction_reduction = lmer.reduction %>% filter(term == 'person1:rep_num')
person_rep_interaction_reduction_pvalue <- round(person_rep_interaction_reduction$p.value, 3)

age_rep_interaction_reduction = lmer.reduction %>% filter(term == 'age:rep_num')
age_rep_interaction_reduction_pvalue = round(age_rep_interaction_reduction$p.value, 3)

person_age_rep_interaction_reduction = lmer.reduction %>% filter(term == 'person1:age:rep_num')
person_age_rep_interaction_reduction_pvalue = round(person_age_rep_interaction_reduction$p.value, 3)
```

A key signature of successful communication among adults is an increase in efficiency over repeated reference [@krauss1964,@clark1986]. 
As pairs form conceptual pacts, they are able to communicate the same meaning using fewer words. 
We asked whether parents and children of different ages spontaneously reduce their referring expressions in the same way.
Because the total number of words produced on a trial is correlated with the number of dialogue exchanges examined above ($r=$ `r word_exchange_cor`), we constructed a an efficiency measure that controls for additional turns.
Specifically, we defined efficiency as the total number of words produced by the *director* divided by the number of dialogue exchanges on that trial. 

Because participants in a pair alternated roles, each participant served as the director twice for each tangram. 
This structure allowed us to examine how each participant changed their language when they were the director (Fig. \ref{fig:reduction}). 
Using a mixed-effects model, we predicted the (log) number of words per exchange on each trial, including fixed effects of child age group, repetition block, and speaker identity (parent vs. child) as well as all of their interactions.
We also included random intercepts at the tangram-level and maximal random structure at the dyad level (i.e. intercept, slopes for repetition block and speaker identity, and their interaction).
All variables were centered to allow interpretation of lower-order terms as effects at the average level of the other terms. 
We found significant main effects of repetition block ($t =$ `r round(rep_effect_reduction$statistic,2)`, $p < 0.001$), speaker identity ($t =$ `r round(person_effect_reduction$statistic,2)`, $p < 0.001$), and age (t = `r round(age_effect_reduction$statistic,2)`, $p < 0.001$).
All else being equal, directors use fewer words over subsequent repetitions, children use fewer words than their parents, and pairs with older children use fewer words than pairs with younger children.

However, these main effects were clarified by several interactions of interest.
First, while parents on average used more words as director than their children did, we found a significant interaction with the child's age group ($t =$ `r round(person_age_interaction_reduction$statistic,2)`, $p =$ `r  person_age_interaction_reduction_pvalue`).
This gap between parent and child utterance length is largest at 4 years but nearly dissappeared by 8 years. 
Second, we find that parents reduced their utterance length over time more strongly than children did, holding age group constant ($t =$ `r round(person_rep_interaction_reduction$statistic,2)`, $p =$ `r person_rep_interaction_reduction_pvalue`).
Third, having older children in a pair supported stronger reduction overall, ($t =$ `r round(age_rep_interaction_reduction$statistic,2)`, $p =$ `r age_rep_interaction_reduction_pvalue`). 
Finally, an intriguing developmental question is whether reduction changes over the course of development: are 4-year-olds able to become more efficient as common ground is built in the same way 8-year-olds do?
Because parents of different age groups display similar slopes of reduction, this question is addressed by a 3-way interaction. 
We found that this interaction was not significant ($t=$ `r round(person_age_rep_interaction_reduction$statistic, 2)`, $p =$ `r person_age_rep_interaction_reduction_pvalue`), although our sample was likely underpowered to detect a higher-order interaction. 

\todo[inline]{TODO: include control analysis using normalized metric. Consider using this analysis as primary, i.e. switching over \texttt{lmer.reduction} to \texttt{lmer.reduction.control} in the block and motivating this}.

# Analyzing the content of pacts

## Where do pacts come from?

```{r}
matches <- read_csv('../deidentified/word_matches.csv') %>% 
  filter(later_rep == 4) %>%
  spread(earlier_rep, match) %>%
  mutate(first_appearance = case_when(`1` ~ '1', 
                                      `2` ~ '2', 
                                      `3` ~ '3', 
                                      TRUE ~ 'never'),
         total = length(first_appearance),
         director = final_round_person,
         matcher = case_when(final_round_person == 'left' ~ 'right',
                             final_round_person == 'right' ~ 'left',
                             final_round_person == 'parent' ~ 'child',
                             final_round_person == 'child' ~ 'parent')
   ) %>%
  filter(first_appearance != 'never') %>%
  mutate(introduced_by = ifelse(first_appearance %in% c('2'), director, matcher),
         #introduced_by_parent = introduced_by == 'parent',
         introduced_on_first_round = first_appearance %in% c('1'),
         introduced_by_self = introduced_by == director,
         introduced_by_other = introduced_by != director,
          director = ifelse(director %in% c('left', 'right'), 'adult', director),
         age = ifelse(is.na(age), 'adult-adult', age)
         )

matches %>%
  group_by(age, director) %>%
  tidyboot_mean(introduced_by_other) %>%
  #tally() %>%
  ggplot(aes(x = as.character(age), y = empirical_stat, 
             group = director, color = director)) +
    geom_line() +
    geom_point() +
    geom_hline(yintercept = .5) +
    geom_errorbar(aes(ymin = ci_lower, ymax = ci_upper), width = 0) +
    theme_few() +
    ylab('% final-round words introduced by other') +
    xlab("child age group") +
    theme(aspect.ratio = 1) +
    guides(color=guide_legend(title="Director on final round")) +
    scale_color_colorblind(breaks=c("child", "parent")) 
```

Pairs of age-matched children are notoriously poor at repeated referential communication [@glucksberg1966], failing to coordinate on mutually comprehensible referring expressions.  
Our results demonstrate that when children perform the same task with their parents, this coordination problem can be solved: they converge on increasingly accurate and efficient pacts, as adults do. 
What, then, allows children to coordinate with their parents but not with their peers? 

One possibility is that children lack the ability to *adapt* to their partner: they have a strong preference for a particular idiosyncratic description and are not sensitive to the possibility that their partner may not understand it. 
Under this hypothesis, children fail with other children because they each continue to use mutually incomprehensible expressions, and only succeed with their parent as a result of the parent's flexibility.  
An alternative possibility is that young children are able to adapt but are uncertain about what an appropriate label would be in the first place.
They fail with other children because neither can generate an understandable enough initial label to start the pact-formation process, but will quickly pick up on a good label supplied by their parent. 

These accounts make different predictions about who is adapting to who: do pacts originate with children, or with adults?
We distinguish by quantitatively analyzing the natural-language transcripts. 

## How do pacts differ across ages?

Given that the labels used by younger children tend to originate with their parents, it is tempting to conclude that adaptation for these pairs is entirely one-sided.
It is possible, however, that the resulting pacts are nonetheless shaped by children.
In particular, we suggest that even though young children may not be able to *supply* good initial labels, they may serve as "regularizers" or "filters" that constrain the complexity of the resulting pact, since it must pass through their comprehension and production system.
In order to estimate the complexity of language used by participants, we used self-reported age of acquisition estimates collected by @kuperman2012. 
These researchers asked almost 2000 Mechanical Turkers to judge the age at which they first acquired each of a large set of words on a 7 point Likert scale. 
Although one might be suspicious that adults have little access to this kind of information, these judgments are highly correlated with parents' estimates of the age at which their children learn corresponding words, and are better than a variety of other measures (e.g. frequency, concreteness, word length) in predicting lexical decision times [@kuperman2012].

For each participant, on each trial, we estimated the linguistic complexity of their contribution by averaging the estimated age of acquisition for each word in their utterance^[We first removed any words in a list of `r stopwords() %>% length()` stopwords like "at" and "me" from the \texttt{tm} package [@feinerer2008]`.  

```{r}
tokens <- combined_data %>%
  filter(role == "director") %>%
  group_by(age, person, subid, target, rep_num) %>%
  summarise(words = str_to_lower(utterance)) %>%
  unnest_tokens(word, words) %>%
  ungroup() %>%
  mutate(word = str_to_lower(word))

aoas <- tokens %>%
  left_join(kuperman_aoas, by = "word") %>%
  filter(!word %in% tm::stopwords()) %>%
  group_by(age, person, target, rep_num, subid) %>%
  summarise(aoa = mean(aoa, na.rm = T)) %>%
  group_by(age, person, target, subid) %>%
  ungroup() %>%
  mutate(person = case_when(person == "left" ~ "adult",
                            person == "right" ~ "adult",
                            T ~ person))

mean_aoas <- aoas %>%
  group_by(age, person, rep_num, subid) %>%
  summarise(aoa = mean(aoa, na.rm = T)) %>%
  tidyboot_mean(aoa, na.rm = T)

ggplot(mean_aoas, aes(x = rep_num, y = empirical_stat, color = as.factor(age))) +
  geom_linerange(aes(ymin = ci_lower, ymax = ci_upper), 
                  position = position_dodge(.25)) + 
  facet_wrap(~ person) + 
  geom_line() + 
  theme(aspect.ratio = 1, legend.position = "none") +
  scale_color_colorblind() + 
  labs(x = "rep #", y = "AoA (average)")
```

# Discussion

Our main effect of reduction in length of referring expression replicates the effect found in Clark and Wilkes-Gibbs -@clark1986, suggesting that parents and children were forming conceptual pacts with one another as the game progressed (Figure 2). This effect was found across all three age groups, and patterns were largely similar across groups. Our results show that children as young as 4 are able to cooperate with a more linguistically capable partner to form conceptual pacts in conversation. Taken together with prior research suggesting that 4-year-olds are not yet able to form conceptual pacts with their peers [@glucksberg1967], our findings indicate that adults could scaffold younger children’s conversational abilities to facilitate effective referential communication. 

Older children and their parents used shorter referring expressions overall (Figure 3). This finding may reflect older children’s more advanced linguistic skills compared to their younger counterparts, such that they produce more succinct (and perhaps more efficient) referring expressions. Older children may also require less descriptive information about the target tangram in order to identify it. These explanations are not mutually exclusive, but further analysis suggests that the latter may reflect our data more accurately.

When analyzing length of referring expression separately for parents and children, we found that the age difference was largely driven by parents (Figure 4). While children’s length of referring expression did decrease across rounds, patterns did not seem to differ across age groups. On the other hand, parents of 4-year-olds used longer referring expressions than parents of older children. One potential reason for why parents used longer referring expressions with younger children could be that these children required more scaffolding. Younger children may have difficulty focusing on relevant dimensions of the target tangram, such that parents need to provide more information in order for their children to select the correct tangram. Qualitative analysis is currently underway, and will be helpful for understanding the reason parents use varying lengths of referring expressions with their children. Our analyses thus far suggest that parents may be adapting their speech for effective communication, using longer, more informative sentences with younger children, and shorter ones with older children.

Reaction times decreased across rounds for all parent-child pairs (Figure 6). Our reaction time analyses showed patterns similar to that of length of referring expressions. While dyads across age groups showed the same pattern of decreasing reaction time, older children and their parents were faster overall. These results show that parents and children are calibrated to each other during the game. If reaction times did not match length of referring expressions, that could indicate that parents and children were providing too little or too much information to each other, such that the two measures would be mismatched. Thus, the intuitive finding that reaction times matched referring expression lengths serves to strengthen the argument that parents calibrate to their children in communicative settings.

Thus far, our analyses show that children can cooperate with their parents to form conceptual pacts about novel referents. Given that children as young as 4 years old were successful in forming referential pacts with others, our results suggest that parents, who are more linguistically-advanced, can scaffold children’s communicative abilities. Qualitative analysis is currently ongoing, and will be helpful for answering the following questions: How do parents and children each drive the referential pact formation process? How do these roles change across development? A deeper understanding of the characteristics of parent-child referential communication across development will shed light onto the how children develop their conversational skills, and how parents may scaffold the process.

## Future Directions

We are currently conducting a follow-up study where similar tangrams are paired together on each trial. Currently, tangrams that are most dissimilar to each other are paired, as a way to ensure that the game would not be too difficult for young children. Anecdotally, however, the researchers have noticed that older children occasionally comment on the game being too easy. Other than increasing the difficulty of the game, pairing similar tangrams also has the important benefit of allowing us to understand how different pressures influencing referential communication and conceptual pact formation. The follow-up study could be directly compared to the current study, and would allow us to further explore how parents calibrate to their children in referential communication settings.

We are also conducting a comprehension task, using expressions produced by parent-child pairs during the game. Children and adults will hear an audio recording of a referential expression and see the pair of tangrams that occured on the trial where the expression was produced. This study allows us to examine whether first and last round utterances differ qualitatively in informativeness, and whether speech generated by parents and children are tailored for each other, such that new interlocuters would not be able to identify the relevant tangram. 

# Acknowledgements

Place acknowledgments (including funding information) in a section at
the end of the paper.

# References 

```{r}

# References will be generated automatically by Pandoc and included here.
# The following code is some latex to format the bibliography. Do not remove it.
```

\setlength{\parindent}{-0.1in} 
\setlength{\leftskip}{0.125in}
\noindent
